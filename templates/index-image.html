<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<link>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title></title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link th:href="@{/css/bootstrap.css}" rel="stylesheet" href="../static/css/bootstrap.css"></link>
<link th:href="@{/css/bootstrap-grid.css}" rel="stylesheet"
      href="../static/css/bootstrap-grid.css"></link>
<link th:href="@{/css/bootstrap-reboot.css}" rel="stylesheet"
      href="../static/css/bootstrap-reboot.css"></link>
<link th:href="@{/css/jquery-ui.css}" rel="stylesheet" href="../static/css/jquery-ui.css"></link>
<link th:href="@{/css/jquery-ui.structure.css}" rel="stylesheet" href="../static/css/jquery-ui.structure.css"></link>
<link th:href="@{/css/jquery-ui.theme.css}" rel="stylesheet" href="../static/css/jquery-ui.theme.css"></link>
<link th:href="@{/css/assistant.css}" rel="stylesheet" href="../static/css/assistant.css"></link>
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="container-fluid p-0">
  <div class="row">
    <div class="col-2 results">
      <div class="col btn-container btn-container-top">
      <button type="button" class="btn btn-red btn-circle btn-xl">Add Circle</button>
      </div>
      <div class="col btn-container">
      <button type="button" class="btn btn-yellow btn-circle btn-xl">Add Square</button>
      </div>
      <div class="col btn-container">
        <button type="button" class="btn btn-blue btn-circle btn-xl">Add Traingle</button>
      </div>
      <div class="col btn-container my-drag">
        <div type="button" class="btn btn-dime btn-circle btn-xl" ></div>
      </div>
    </div>
    <div class="col-10" style="height:100vh;">

      <div class="row" style="height: 80vh; ">
        <div class="col">

          <canvas id="myCanvas" resize style="height: 100%;width: 100%"></canvas>
        </div>
      </div>

      <div class="row" style="height:20vh">
        <div class="col query">
          <!--Search box -->
          <div class="wrap">
            <div class="search">
              <input type="text" class="searchTerm" placeholder="Type .. add circle?">
              <button type="submit" class="searchButton">
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>
          <!-- End of Search box-->
        </div>
      </div>
    </div>

  </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script th:src="@{/js/jquery-ui.js}" src="../static/js/jquery-ui.js"></script>
<script th:src="@{/js/paper-full.js}" src="../static/js/paper-full.js"></script>
<script th:src="@{/js/bootstrap.js}" src="../static/js/bootstrap.js"></script>
<script th:src="@{/js/bootstrap.bundle.js}" src="../static/js/bootstrap.bundle.js"></script>
<script th:src="@{/js/paper-canvas-direct.js}" type="text/javascript"  canvas="myCanvas" src="../static/js/paper-image.js"></script>
<!--<script type="text/paperscript" src="../static/js/paper-canvas.js" canvas="myCanvas"></script>-->
<script>
  // var imageUrl = "../static/images/dime.png";
  var imageUrl = "https://i.imgur.com/FY6a4Yv.jpg";

  $( ".btn-dime" ).css("background-size","100px 100px");
  $( ".btn-dime" ).css("background-image","url(" + imageUrl + ")");
  $(function() {
    $( ".my-drag" ).draggable({
      helper: "clone"
    });
    $( "#myCanvas" ).droppable({
      drop: function( event, ui ) {
        var url = $(ui.draggable).first().children().css('background-image');
        var tempParts = url.split('\"');
        var currentImage = tempParts[1];
        $( "#myCanvas" ).css("background-image",url);
        var canvas = document.getElementById('myCanvas');

        $( "#myCanvas" ).css("background-size","933px 620px");
        $( "#myCanvas" ).css("background-position","center");
        $( "#myCanvas" ).css("background-repeat","no-repeat");
       console.log("drop event happend " + ui);
      }
    });
  });
  var state = 0;
  $( "#myCanvas" ).mousedown(function() {
    state = 1;
    console.log("Mousedown function on canvas called");
  });
  $( "#myCanvas" ).mouseup(function(event) {
    console.log(event);
   console.log("Mouseup function on canvas called");
   if(state == 0) {
     console.log("Maybe drag happened ");
   }
   state = 0;
  });
  myCanvas
</script>
</body>
</html>
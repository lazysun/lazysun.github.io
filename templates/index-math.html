<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<link>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title></title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link th:href="@{/css/bootstrap.css}" rel="stylesheet" href="./static/css/bootstrap.css"></link>
<link th:href="@{/css/bootstrap-grid.css}" rel="stylesheet"
      href="./static/css/bootstrap-grid.css"></link>
<link th:href="@{/css/bootstrap-reboot.css}" rel="stylesheet"
      href="./static/css/bootstrap-reboot.css"></link>
<link th:href="@{/css/assistant.css}" rel="stylesheet" href="../static/css/assistant.css"></link>
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/javascript" src="../static/js/mathquill.js"></script>
<!--<link th:href="@{/css/mathquill.css}" rel="stylesheet"-->
<!--      href="../static/css/bootstrap-reboot.css"></link>-->
<link rel="stylesheet" href="../static/css/mathquill.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
</head>
<body>
<div class="container-fluid p-0">
  <div class="row">
    <div class="col-2 results">
      <p>Column for dragging and dropping images/pdf/charts and objects </p>
    </div>
    <div class="col-10" style="height:100vh;">

      <div class="row" style="height: 80vh; ">
        <!--     $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$ -->
        <div id="MathExample" class="col"  style="font-size:50px " tabindex="0">
<!--              <textarea />-->
<!--          <canvas id="myCanvas" resize style="height: 100%;width: 100%"></canvas>-->

        </div>
      </div>

      <div class="row" style="height:20vh">
        <div class="col query">
          <!--Search box -->
          <div class="wrap">
            <div class="search">
              <input type="text" class="searchTerm" placeholder="Type .. add circle?">
              <button type="submit" class="searchButton">
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>
          <!-- End of Search box-->
        </div>
      </div>
    </div>

  </div>
</div>


<script th:src="@{/js/paper-full.js}" src="../static/js/paper-full.js"></script>
<script th:src="@{/js/bootstrap.js}" src="../static/js/bootstrap.js"></script>
<script th:src="@{/js/bootstrap.bundle.js}" src="../static/js/bootstrap.bundle.js"></script>
<!--<script th:src="@{/js/paper-canvas-direct.js}" type="text/javascript"  canvas="myCanvas" src="../static/js/paper-canvas-direct.js"></script>-->
<!--<script type="text/paperscript" src="../static/js/paper-canvas.js" canvas="myCanvas"></script>-->
<script>
  // var MQ = MathQuill.getInterface(2);
  var expression = "";
  var htmlElement = document.getElementById('MathExample');
  // var config = {
  //   handlers: { edit: function(){ } },
  //   restrictMismatchedBrackets: true
  // };
  // var mathField = MQ.MathField(htmlElement, config);
  // mathField.latex('\\begin{matrix}\n'
  //     + '1 & 2 & 3\\\\\n'
  //     + 'a & b & c\n'
  //     + '\\end{matrix}'); // Renders the given LaTeX in the MathQuill field
  // mathField.latex('E=mc^2');
  // mathField.latex()
  // $( document ).ready(function() {
  //   katex.render("x^2", htmlElement, {
  //     throwOnError: false,
  //     displayMode:true
  //   });
  // });



  $("#MathExample").keydown(function(event) {
    console.log( "Key Pressed : " + event.which );
    if(event.which == 8) {
      console.log( "Delete Pressed : " + event.which );
      expression = expression.substring(0, expression.length - 1);
    }
  });
  // $("#MathExample").keyup(function (event) {
  //   event.preventDefault();
  // });
  $("#MathExample").keypress(function(event) {
    console.log( "Key Pressed : " + event.which );
    // event.preventDefault();
    //
    // if(event.which == 94) {
    //   expression = expression + "\^";
    //     //return;
    // }else {
    //
      expression =  expression + String.fromCharCode(event.which);
    // }
      // katex.render("x^2", document.getElementById('MathExample'), {
      //   throwOnError: false,
      //   displayMode:true
      // });
    // $("#MathExample").focus();
    // $("#MathExample").text(expression);
    $("#MathExample").text('$$' + expression + '$$');
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,"MathExample"]);
    // MathJax.Callback.Queue([fv]);
  });
  $( ".searchButton" ).click(function() {
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,"MathExample"]);
  });

</script>
</body>
</html>